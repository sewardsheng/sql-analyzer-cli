# ç»Ÿä¸€å‘½åè§„èŒƒæ ‡å‡†

## ğŸ¯ å‘½ååŸåˆ™

### 1. ä¸€è‡´æ€§åŸåˆ™
- **å…¨é¡¹ç›®ç»Ÿä¸€**ï¼šæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ä½¿ç”¨ç›¸åŒçš„å‘½åè§„èŒƒ
- **è¯­ä¹‰æ¸…æ™°**ï¼šåç§°å¿…é¡»å‡†ç¡®åæ˜ åŠŸèƒ½å’Œç”¨é€”
- **ç®€æ´æ˜äº†**ï¼šé¿å…å†—ä½™è¯æ±‡å’ŒæŠ€æœ¯æœ¯è¯­å †ç Œ

### 2. æŠ€æœ¯è§„èŒƒ
- **æ–‡ä»¶å‘½å**ï¼šç»Ÿä¸€ä½¿ç”¨ `kebab-case` (çŸ­æ¨ªçº¿è¿æ¥)
- **ç›®å½•å‘½å**ï¼šç»Ÿä¸€ä½¿ç”¨ `kebab-case` 
- **å¸¸é‡å‘½å**ï¼šä½¿ç”¨ `UPPER_SNAKE_CASE`
- **å‡½æ•°/ç±»å‘½å**ï¼šä½¿ç”¨ `camelCase`

### 3. åŠŸèƒ½å¯¼å‘
- **æŒ‰åŠŸèƒ½ç»„ç»‡**ï¼šè€Œä¸æ˜¯æŒ‰æŠ€æœ¯ç±»å‹
- **é¿å…æŠ½è±¡è¯**ï¼šå¦‚ "enhanced", "unified", "intelligent"
- **ä½¿ç”¨æ ‡å‡†æœ¯è¯­**ï¼šä¸šç•Œé€šç”¨çš„æŠ€æœ¯è¯æ±‡

## ğŸ“ ç›®å½•ç»“æ„è§„èŒƒ

### å»ºè®®çš„ç»Ÿä¸€ç»“æ„
```
src/
â”œâ”€â”€ api/                    # APIæ¥å£å±‚
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±å®šä¹‰
â”‚   â””â”€â”€ docs.js            # APIæ–‡æ¡£
â”œâ”€â”€ core/                  # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ analyzers/         # SQLåˆ†æå™¨
â”‚   â”œâ”€â”€ knowledge/         # çŸ¥è¯†åº“
â”‚   â”œâ”€â”€ tools/             # åˆ†æå·¥å…·
â”‚   â””â”€â”€ reporting/         # æŠ¥å‘Šç”Ÿæˆ
â”œâ”€â”€ services/              # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”œâ”€â”€ rule-learning/     # è§„åˆ™å­¦ä¹ æœåŠ¡
â”‚   â”œâ”€â”€ health.js          # å¥åº·æ£€æŸ¥
â”‚   â”œâ”€â”€ history.js         # å†å²è®°å½•
â”‚   â””â”€â”€ knowledge.js       # çŸ¥è¯†åº“æœåŠ¡
â”œâ”€â”€ config/                # é…ç½®ç®¡ç†
â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â””â”€â”€ prompts/               # æç¤ºè¯æ¨¡æ¿
```

## ğŸ“ æ–‡ä»¶å‘½åè§„èŒƒ

### 1. å·¥å…·ç±»æ–‡ä»¶
```
âŒ ResilienceUtils.js
âŒ EnhancedLogger.js
âŒ AsyncOperationManager.js
âŒ UnifiedConfigManager.js
âŒ ConfigAdapters.js

âœ… error-handler.js        # é”™è¯¯å¤„ç†
âœ… logger.js               # æ—¥å¿—ç³»ç»Ÿ
âœ… task-manager.js         # ä»»åŠ¡ç®¡ç†
âœ… config-manager.js       # é…ç½®ç®¡ç†
âœ… response-formatter.js   # å“åº”æ ¼å¼åŒ–
```

### 2. æœåŠ¡ç±»æ–‡ä»¶
```
âŒ IntelligentRuleLearner.js
âŒ AutoApprover.js
âŒ SmartThresholdAdjuster.js

âœ… rule-learner.js         # è§„åˆ™å­¦ä¹ å™¨
âœ… auto-approver.js        # è‡ªåŠ¨å®¡æ‰¹å™¨
âœ… threshold-adjuster.js   # é˜ˆå€¼è°ƒæ•´å™¨
```

### 3. æ ¸å¿ƒåŠŸèƒ½æ–‡ä»¶
```
âŒ database-identifier.js  # è¿‡é•¿
âœ… db-identifier.js        # ç®€æ´ç‰ˆæœ¬
```

## ğŸ”§ é‡æ„è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåˆå¹¶å†—ä½™åŠŸèƒ½

#### 1. æ—¥å¿—ç³»ç»Ÿç»Ÿä¸€
- **åˆ é™¤**ï¼š`src/utils/logger.js` (åŸºç¡€ç‰ˆæœ¬)
- **ä¿ç•™**ï¼š`src/utils/logging/EnhancedLogger.js` (åŠŸèƒ½å®Œæ•´)
- **é‡å‘½å**ï¼š`EnhancedLogger.js` â†’ `logger.js`
- **ç§»åŠ¨**ï¼š`src/utils/logging/logger.js` â†’ `src/utils/logger.js`

#### 2. é”™è¯¯å¤„ç†ç»Ÿä¸€
- **åˆå¹¶**ï¼š`src/utils/error/ErrorHandler.js` + `src/middleware/error-handler.js`
- **ä½ç½®**ï¼š`src/utils/error-handler.js`
- **åŠŸèƒ½**ï¼šåŒ…å«ä¸šåŠ¡é”™è¯¯å¤„ç†å’ŒHTTPé”™è¯¯å¤„ç†

#### 3. é…ç½®ç®¡ç†ç®€åŒ–
- **åˆ é™¤**ï¼š`src/config/ConfigAdapters.js` (ç®€å•åŒ…è£…å™¨)
- **ä¿ç•™**ï¼š`src/config/UnifiedConfigManager.js`
- **é‡å‘½å**ï¼š`UnifiedConfigManager.js` â†’ `config-manager.js`

### ç¬¬äºŒé˜¶æ®µï¼šæ–‡ä»¶é‡å‘½å

#### utilsç›®å½•é‡æ„
```
src/utils/
â”œâ”€â”€ logger.js               # ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ error-handler.js        # ç»Ÿä¸€é”™è¯¯å¤„ç†
â”œâ”€â”€ task-manager.js         # ä»»åŠ¡ç®¡ç† (åŸAsyncOperationManager)
â”œâ”€â”€ config-manager.js       # é…ç½®ç®¡ç†
â”œâ”€â”€ response-formatter.js   # å“åº”æ ¼å¼åŒ–
â”œâ”€â”€ file-reader.js          # æ–‡ä»¶è¯»å–
â””â”€â”€ prompt-loader.js        # æç¤ºè¯åŠ è½½
```

#### æœåŠ¡ç±»é‡æ„
```
src/services/rule-learning/
â”œâ”€â”€ rule-learner.js         # è§„åˆ™å­¦ä¹ å™¨
â”œâ”€â”€ rule-generator.js       # è§„åˆ™ç”Ÿæˆå™¨
â”œâ”€â”€ rule-validator.js       # è§„åˆ™éªŒè¯å™¨
â”œâ”€â”€ auto-approver.js        # è‡ªåŠ¨å®¡æ‰¹å™¨
â”œâ”€â”€ quality-evaluator.js    # è´¨é‡è¯„ä¼°å™¨
â”œâ”€â”€ history-analyzer.js     # å†å²åˆ†æå™¨
â”œâ”€â”€ performance-monitor.js  # æ€§èƒ½ç›‘æ§å™¨
â””â”€â”€ threshold-adjuster.js   # é˜ˆå€¼è°ƒæ•´å™¨
```

### ç¬¬ä¸‰é˜¶æ®µï¼šå¯¼å…¥è·¯å¾„æ›´æ–°

#### æ‰¹é‡æ›¿æ¢è§„åˆ™
1. `UnifiedConfigManager` â†’ `config-manager`
2. `EnhancedLogger` â†’ `logger`
3. `AsyncOperationManager` â†’ `task-manager`
4. `ResilienceUtils` â†’ `error-handler`

## ğŸ¯ å…·ä½“é‡æ„æ­¥éª¤

### æ­¥éª¤1ï¼šå¤‡ä»½å½“å‰çŠ¶æ€
- åˆ›å»ºé‡æ„å‰çš„å®Œæ•´å¤‡ä»½
- è®°å½•æ‰€æœ‰æ–‡ä»¶çš„å¯¼å…¥ä¾èµ–å…³ç³»

### æ­¥éª¤2ï¼šåˆå¹¶åŠŸèƒ½å†—ä½™
1. ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿ
2. åˆå¹¶é”™è¯¯å¤„ç†
3. ç®€åŒ–é…ç½®ç®¡ç†

### æ­¥éª¤3ï¼šæ–‡ä»¶é‡å‘½å
1. æŒ‰ä¼˜å…ˆçº§é€ä¸ªé‡å‘½åæ–‡ä»¶
2. æ›´æ–°ç›¸å…³çš„å¯¼å…¥è¯­å¥
3. éªŒè¯æ¯ä¸ªæ¨¡å—çš„åŠŸèƒ½

### æ­¥éª¤4ï¼šç›®å½•ç»“æ„ä¼˜åŒ–
1. ç®€åŒ–utilsç›®å½•ç»“æ„
2. åˆå¹¶åŠŸèƒ½ç›¸ä¼¼çš„æ–‡ä»¶
3. åˆ é™¤ç©ºç›®å½•

### æ­¥éª¤5ï¼šå…¨é¢æµ‹è¯•
1. è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
2. éªŒè¯APIåŠŸèƒ½
3. æ£€æŸ¥æ—¥å¿—è¾“å‡º
4. ç¡®è®¤é”™è¯¯å¤„ç†

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å…¼å®¹æ€§ä¿è¯
- ä¿æŒå¯¹å¤–APIæ¥å£ä¸å˜
- ç¡®ä¿é…ç½®æ–‡ä»¶æ ¼å¼å…¼å®¹
- ç»´æŒç¯å¢ƒå˜é‡é…ç½®æ–¹å¼

### 2. åŠŸèƒ½å®Œæ•´æ€§
- ä¸åˆ é™¤ä»»ä½•æ ¸å¿ƒåŠŸèƒ½
- ä¿æŒæ‰€æœ‰é…ç½®é€‰é¡¹
- ç»´æŒé”™è¯¯å¤„ç†ç­–ç•¥

### 3. æ¸è¿›å¼é‡æ„
- åˆ†é˜¶æ®µè¿›è¡Œï¼Œé¿å…å¤§è§„æ¨¡ä¸€æ¬¡æ€§ä¿®æ”¹
- æ¯ä¸ªé˜¶æ®µéƒ½è¦å……åˆ†æµ‹è¯•
- ä¿ç•™å›æ»šæ–¹æ¡ˆ

## ğŸ“Š é¢„æœŸæ•ˆæœ

### é‡æ„å‰é—®é¢˜ç»Ÿè®¡
- å‘½åé£æ ¼ä¸ç»Ÿä¸€ï¼š15+ æ–‡ä»¶
- åŠŸèƒ½å†—ä½™ï¼š5+ å¤„é‡å¤å®ç°
- ç›®å½•åµŒå¥—è¿‡æ·±ï¼š3+ å±‚åµŒå¥—
- æŠ½è±¡è¯æ±‡è¿‡å¤šï¼š10+ ä¸ªæ–‡ä»¶

### é‡æ„åæ”¹å–„
- âœ… 100% kebab-case å‘½åç»Ÿä¸€
- âœ… é›¶åŠŸèƒ½å†—ä½™
- âœ… æœ€å¤§2å±‚ç›®å½•åµŒå¥—
- âœ… è¯­ä¹‰æ¸…æ™°çš„æ–‡ä»¶å
- âœ… ç®€æ´çš„é¡¹ç›®ç»“æ„

é€šè¿‡è¿™ä¸ªç»Ÿä¸€å‘½åè§„èŒƒï¼Œé¡¹ç›®å°†å…·æœ‰ä¸“ä¸šã€æ•´æ´ã€æ˜“ç»´æŠ¤çš„ä»£ç æ¶æ„ã€‚